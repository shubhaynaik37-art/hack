<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Initiating Protocol: ECHO</title>
    <!-- Load Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Use Inter font family -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700&family=Nova+Mono&display=swap" rel="stylesheet">
    <style>
        /* Custom CSS for the terminal aesthetic */
        body {
            background-color: #000; /* Deep black background */
            font-family: 'Nova Mono', monospace; /* Monospace font for the terminal look */
            color: #00ff41; /* Neo-green text */
            text-shadow: 0 0 5px #00cc33; /* Glow effect */
            overflow: hidden; /* Hide scrollbars */
        }
        .terminal-container {
            height: 100vh;
            width: 100vw;
            display: flex;
            flex-direction: column;
            padding: 1rem;
            box-sizing: border-box;
        }
        .log-output {
            flex-grow: 1;
            overflow-y: scroll;
            white-space: pre-wrap;
            word-wrap: break-word;
            line-height: 1.25;
            scrollbar-width: none; /* Hide scrollbar for Firefox */
            -ms-overflow-style: none;  /* Hide scrollbar for IE and Edge */
        }
        .log-output::-webkit-scrollbar {
            display: none; /* Hide scrollbar for Chrome, Safari and Opera */
        }
        .prompt {
            white-space: pre;
            margin-top: 0.5rem;
            border-top: 1px solid rgba(0, 255, 65, 0.3);
            padding-top: 0.5rem;
        }
        .glitch {
            animation: glitch 1s infinite;
        }

        @keyframes glitch {
            0% { text-shadow: 0 0 5px #00cc33; }
            20% { transform: translate(-1px, 1px); }
            40% { transform: translate(1px, -1px); }
            60% { transform: translate(-1px, 1px); }
            80% { transform: translate(1px, -1px); }
            100% { text-shadow: 0 0 5px #00cc33; }
        }

        /* Subtle flicker effect for extra realism */
        .flicker {
            animation: flicker 0.1s infinite alternate;
        }

        @keyframes flicker {
            0% { opacity: 0.95; }
            100% { opacity: 1; }
        }
    </style>
</head>
<body class="flicker">

    <div class="terminal-container">
        <!-- Main Log Output Area -->
        <pre id="log-output" class="log-output text-xs sm:text-sm"></pre>

        <!-- Command Prompt Area with Fake Typing -->
        <div class="prompt text-sm sm:text-base">
            <span class="text-yellow-400">root@nexus-device:~$</span> <span id="prompt-text"></span><span id="cursor" class="glitch">â–ˆ</span>
        </div>
    </div>

    <script>
        const logOutput = document.getElementById('log-output');
        const promptTextElement = document.getElementById('prompt-text');
        const cursorElement = document.getElementById('cursor');

        const FAKE_COMMAND = "ssh root@10.0.1.4 -p 2222 && /usr/bin/initialize_sequence --bypass_auth -v";
        const LOG_MESSAGES = [
            // Initialization
            "INITIALIZING CORE NEXUS DRIVERS... [OK]",
            "LOADING CRYPTOGRAPHIC MODULES... [2048-bit KEY]",
            "CHECKING NETWORK CONNECTIVITY... [STATUS: SECURE]",
            "ESTABLISHING SECURED SHELL CONNECTION...",
            // Scanning/Processing
            "SCANNING PORT 443 ON TARGET 10.0.1.4... [OPEN]",
            "ATTEMPTING BRUTE FORCE DICTIONARY ATTACK...",
            "AUTHENTICATION FAILED: RETRYING WITH PROTOCOL V2.",
            "RECEIVING DATA STREAM: 45.2% COMPLETE...",
            "DECOMPILING ENCRYPTED ASSETS. ESTIMATED TIME: 00:00:15",
            // Success/Failure
            "BUFFER OVERFLOW INITIATED... [SUCCESS]",
            "ACCESS GRANTED TO FILE SYSTEM /DEV/ROOT...",
            "INTRUSION ALERT: TRACE ROUTE STARTED. DISCONNECTING...",
            "LOGGING SESSION ID: #829A-4B1C. CLEANUP COMPLETE.",
            "ERROR: TARGET SYSTEM RESPONDED WITH CODE 503 (MAINTENANCE).",
        ];

        let logHistory = [];
        let promptIndex = 0;
        let isPromptTyping = true;

        /**
         * Generates a random, fake log entry.
         * @returns {string} The formatted log line.
         */
        function generateLogEntry() {
            const timestamp = new Date().toLocaleTimeString('en-US', { hour12: false });
            const prefix = `[${timestamp}] [${Math.random() > 0.8 ? 'WARN' : 'INFO'}]`;
            const message = LOG_MESSAGES[Math.floor(Math.random() * LOG_MESSAGES.length)];
            
            // Add some randomness to path/file names
            if (Math.random() < 0.3) {
                return `${prefix} Processing file: /tmp/data/${Math.random().toString(36).substring(2, 8)}.dat (Size: ${Math.floor(Math.random() * 1024)}KB)`;
            }

            return `${prefix} ${message}`;
        }

        /**
         * Appends new log entry and maintains scroll position.
         */
        function updateLog() {
            const newEntry = generateLogEntry();
            logHistory.push(newEntry);

            // Keep only the last 200 lines to prevent performance issues
            if (logHistory.length > 200) {
                logHistory.shift();
            }

            logOutput.textContent = logHistory.join('\n');
            
            // Auto-scroll to the bottom only if the user hasn't scrolled up significantly
            if (logOutput.scrollHeight - logOutput.clientHeight <= logOutput.scrollTop + 50) {
                logOutput.scrollTop = logOutput.scrollHeight;
            }
        }

        /**
         * Simulates